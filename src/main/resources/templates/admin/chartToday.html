<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset=utf-8>
    <meta http-equiv=X-UA-Compatible content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Font Awesome -->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
<!-- Google Fonts Roboto -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
<!-- Bootstrap core CSS -->
<link rel="stylesheet" href="../css/bootstrap.css">
<link rel="stylesheet" href="../css/dashboard.css">
<link rel=icon href=../img/favicon.ico>
<title>CSCParts - Dashboard</title>

  </head>
  <body>
    <header>
      <!-- Bootstrap NavBar -->
      <div th:replace="headerLayout :: header"> </div>
  </header>
  <div class="container-fluid">
    <div class="row">
      <div th:replace="sideBarMenuLayout :: sideBarMenu"> </div>
            <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-md-1">
              <div class="col-md-12">
                <section class="text-left px-2 mt-2">
                  <span class="h3">DASHBOARD</span><span class="h6" th:text="${' Quotes , Orders & Invoices -  Today ('+toDay+')'}"></span>
                </section>
                <div class="album py-3 px-2 bg-light">
                  <div class="row">
                      <div class="col-md-4">
                        <div class="card mb-4 shadow-sm">
                          <div class="card-header h3">Quotes</div>
                              <div class="card-body d-flex justify-content-center" id="guage_div_quotes"></div>
                              <div th:replace="admin/dashboardCardLayout :: cardFields(totalValue=${salesQuotesDaily}, targetValue=${salesQuotesTargetDaily}, qtyValue=${salesQuotesQtyDaily}, qtyTarget=${salesQuotesTargetQtyDaily},avgValue=${averageDailyQuotes},avgTarget=${averageDailyQuotesTarget},avgProfitValue=${averageDailyQuotesProfit},avgProfitTarget=${averageDailyQuotesProfitTarget})"> </div>
                            <div id="graph_div_quotes" class="d-flex justify-content-center"></div>
                          </div>
                      </div>
                      <div class="col-md-4">
                        <div class="card mb-4 shadow-sm">
                            <div class="card-header h3">Orders</div>
                                <div class="card-body d-flex justify-content-center" id="guage_div_orders"></div>
                                <div th:replace="admin/dashboardCardLayout :: cardFields(totalValue=${salesOrderedDaily}, targetValue=${salesOrderedTargetDaily}, qtyValue=${salesOrderedQtyDaily}, qtyTarget=${salesOrderedTargetQtyDaily},avgValue=${averageDailyOrders},avgTarget=${averageDailyOrdersTarget},avgProfitValue=${averageDailyOrdersProfit},avgProfitTarget=${averageDailyOrdersProfitTarget})"> </div>
                                <div id="graph_div_orders" class="d-flex justify-content-center"></div>
                              </div>
                          </div>
                      <div class="col-md-4">
                        <div class="card mb-4 shadow-sm">
                          <div class="card-header h3">Invoices</div>
                              <div class="card-body d-flex justify-content-center" id="guage_div_invoices"></div>
                              <div th:replace="admin/dashboardCardLayout :: cardFields(totalValue=${salesInvoicedDaily}, targetValue=${salesInvoicedTargetDaily}, qtyValue=${salesInvoicedQtyDaily}, qtyTarget=${salesInvoicedTargetQtyDaily},avgValue=${averageDailyOrders},avgTarget=${averageDailyOrdersTarget},avgProfitValue=${averageDailyInvoicesProfit},avgProfitTarget=${averageDailyInvoicesProfitTarget})"> </div>
                              <div id="graph_div_invoices" class="d-flex justify-content-center"></div>
                            </div>
                          </div>   
                  </div>
                </div>
              </div>
            </main>
      </div>
  </div>
  
        <!-- Footer -->
<footer class="footer mt-auto py-3">
  <div th:replace="footerLayout :: footer"> </div>
</footer>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <!-- jQuery -->
<script type="text/javascript" src="../js/jquery.js"></script>
<!-- Bootstrap tooltips -->
<script type="text/javascript" src="../js/popper.js"></script>
<!-- Bootstrap core JavaScript -->
<script type="text/javascript" src="../js/bootstrap.js"></script>
<!-- Google chart -->
<script type="text/javascript" src="../js/loader.js"></script>
<script th:inline="javascript">
  
  /*<![CDATA[*/

  var salesOrderedDaily = /*[[${salesOrderedDaily}]]*/ '0';
  var salesInvoicedDaily = /*[[${salesInvoicedDaily}]]*/ '0';
  var salesQuotesDaily = /*[[${salesQuotesDaily}]]*/ '0';
  var salesTargetDaily = /*[[${salesTargetDaily}]]*/ '0';
  console.log('salesOrderedDaily-->'+salesOrderedDaily);
  console.log('salesInvoicedDaily-->'+salesInvoicedDaily);
  console.log('salesQuotesDaily-->'+salesQuotesDaily);
  console.log('salesTargetDaily-->'+salesTargetDaily);

  var targetAchievedOrders = /*[[${targetAchievedOrders}]]*/ 0;
  var targetAchievedQuotes = /*[[${targetAchievedQuotes}]]*/ 0;
  var targetAchievedInvoices = /*[[${targetAchievedInvoices}]]*/ 0;
  console.log('targetAchievedOrders-->'+targetAchievedOrders);
  console.log('targetAchievedQuotes-->'+targetAchievedQuotes);
  console.log('targetAchievedInvoices-->'+targetAchievedInvoices);
  

/*]]>*/
  google.charts.load('current', {packages: ['corechart','gauge','bar']});
  google.charts.setOnLoadCallback(drawChart);

  function drawChart() {
    // Define the chart to be drawn.
    var dataQuotes = google.visualization.arrayToDataTable([
          ['Label', 'Value'],
          ['Quotes', {v:targetAchievedQuotes,f:targetAchievedQuotes+'%'}]
        ]);

    var optionsQuotes = {
          width: 800,
          height: 220,
          redColor:'#0069D9',
          redFrom: 0,
          redTo: targetAchievedQuotes,
          greenFrom:targetAchievedQuotes,
          greenTo: 100,
          minorTicks: 5,
        };

        var chartQuotes = new google.visualization.Gauge(document.getElementById('guage_div_quotes'));

        chartQuotes.draw(dataQuotes, optionsQuotes);
        // Define the chart to be drawn.
    var dataOrders = google.visualization.arrayToDataTable([
          ['Label', 'Value'],
          ['Orders', {v:targetAchievedOrders,f:targetAchievedOrders+'%'}]
        ]);

    var optionsOrders = {
          width: 800,
          height: 220,
          yellowFrom: 0,
          yellowTo: targetAchievedOrders,
          greenFrom:targetAchievedOrders,
          greenTo: 100,
          minorTicks: 5
        };

        var chartOrders = new google.visualization.Gauge(document.getElementById('guage_div_orders'));

        chartOrders.draw(dataOrders, optionsOrders);
            // Define the chart to be drawn.
    var dataInvoices = google.visualization.arrayToDataTable([
          ['Label', 'Value'],
          ['Invoices', {v:targetAchievedInvoices,f:targetAchievedInvoices+'%'}]
        ]);

    var optionsInvoices = {
          width: 800,
          height: 220,
          redFrom: 0,
          redTo: targetAchievedInvoices,
          greenFrom:targetAchievedInvoices,
          greenTo: 100,
          minorTicks: 5
        };

        var chartInvoices = new google.visualization.Gauge(document.getElementById('guage_div_invoices'));

        chartInvoices.draw(dataInvoices, optionsInvoices);

       
        var dataGraphInvoices = google.visualization.arrayToDataTable([
          ['Date', 'Sales', 'Target'],
          ['01-June', 8000, 9000],
          ['02-June', 24000, 20000],
          ['03-June', 30000, 29000],
          ['04-June', 50000, 55000],
          ['05-June', 60000, 50000]
        ]);

        var dataGraphInvoicesOptions = {
          width: 500,
          title: 'Sales vs Target',
         trendlines: {
            0: {
              type: 'linear',
              labelInLegend: 'Sales line',
              visibleInLegend: true,
              color: 'green'
            },
            1: {
              type: 'linear',
              labelInLegend: 'Target line',
              visibleInLegend: true,
              color: 'green'
            }
          }
        };
        var graphInvoices = new google.visualization.AreaChart(graph_div_invoices);
        graphInvoices.draw(dataGraphInvoices, dataGraphInvoicesOptions);
          
        var dataGraphOrders = google.visualization.arrayToDataTable([
          ['Date', 'Sales', 'Target'],
          ['01-June', 8000, 9000],
          ['02-June', 24000, 20000],
          ['03-June', 30000, 29000],
          ['04-June', 50000, 55000],
          ['05-June', 60000, 50000]
        ]);

        var dataGraphOrdersOptions = {
          width: 500,
          title: 'Sales vs Target',
         trendlines: {
            0: {
              type: 'linear',
              labelInLegend: 'Sales line',
              visibleInLegend: true,
              color: 'green'
            },
            1: {
              type: 'linear',
              labelInLegend: 'Target line',
              visibleInLegend: true,
              color: 'green'
            }
          }
        };
        var graphOrders = new google.visualization.AreaChart(graph_div_orders);
        graphOrders.draw(dataGraphOrders, dataGraphOrdersOptions);
            
        var dataGraphQuotes = google.visualization.arrayToDataTable([
          ['Date', 'Sales', 'Target'],
          ['01-June', 8000, 9000],
          ['02-June', 24000, 20000],
          ['03-June', 30000, 29000],
          ['04-June', 50000, 55000],
          ['05-June', 60000, 50000]
        ]);

        var dataGraphQuotesOptions = {
          width: 500,
          title: 'Sales vs Target',
         trendlines: {
            0: {
              type: 'linear',
              labelInLegend: 'Sales line',
              visibleInLegend: true,
              color: 'green'
            },
            1: {
              type: 'linear',
              labelInLegend: 'Target line',
              visibleInLegend: true,
              color: 'green'
            }
          }
        };
        var graphQuotes = new google.visualization.AreaChart(graph_div_quotes);
        graphQuotes.draw(dataGraphQuotes, dataGraphQuotesOptions);
  }
  
    </script>
</script>
  </body>
    </html>